import{d as y,r as n,q as k,c as u,a as t,l as v,i,t as f,w as c,k as C,m as P,n as V,p as d,v as m,o as p,u as q}from"./index-UiFgDuwG.js";const A={class:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100"},N={class:"p-8 bg-white rounded-xl shadow-lg w-96"},h={key:0,class:"text-center py-8"},B={class:"text-gray-600 mb-6"},R={key:0,class:"text-red-500 text-sm bg-red-50 p-3 rounded-lg"},S=["disabled"],U={class:"mt-6 text-center text-sm text-gray-500"},T=y({__name:"RegisterPage",setup(D){q();const s=n({name:"",email:"",password:"",confirmPassword:""}),o=n(""),a=n(!1),g=n(!1),x=k.create({headers:{"Content-Type":"application/json"},withCredentials:!0}),w=async()=>{var b,e;if(o.value="",s.value.password!==s.value.confirmPassword){o.value="Passwords do not match";return}if(s.value.password.length<6){o.value="Password must be at least 6 characters";return}try{a.value=!0,await x.post("/auth/register",{name:s.value.name,email:s.value.email,password:s.value.password}),g.value=!0}catch(r){o.value=((e=(b=r.response)==null?void 0:b.data)==null?void 0:e.message)||"Registration failed"}finally{a.value=!1}};return(b,e)=>{const r=C("router-link");return p(),u("div",A,[t("div",N,[e[14]||(e[14]=t("h1",{class:"text-2xl font-bold mb-2 text-gray-800"},"Create Account",-1)),e[15]||(e[15]=t("p",{class:"text-gray-500 mb-6 text-sm"},"Join SmartCV to build your professional resume",-1)),g.value?(p(),u("div",h,[e[6]||(e[6]=t("div",{class:"text-5xl mb-4"},"✉️",-1)),e[7]||(e[7]=t("h2",{class:"text-xl font-bold text-green-600 mb-2"},"Check Your Email!",-1)),t("p",B,[e[4]||(e[4]=i("We've sent a verification link to ",-1)),t("strong",null,f(s.value.email),1)]),v(r,{to:"/login",class:"text-blue-600 hover:underline"},{default:c(()=>[...e[5]||(e[5]=[i("Back to Login",-1)])]),_:1})])):(p(),u("form",{key:1,onSubmit:P(w,["prevent"]),class:"space-y-4"},[t("div",null,[e[8]||(e[8]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Full Name",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.value.name=l),type:"text",class:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe",required:""},null,512),[[m,s.value.name]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Email",-1)),d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.email=l),type:"email",class:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",required:""},null,512),[[m,s.value.email]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Password",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.password=l),type:"password",class:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",required:""},null,512),[[m,s.value.password]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"Confirm Password",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.confirmPassword=l),type:"password",class:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••",required:""},null,512),[[m,s.value.confirmPassword]])]),o.value?(p(),u("p",R,f(o.value),1)):V("",!0),t("button",{type:"submit",disabled:a.value,class:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition disabled:opacity-50"},f(a.value?"Creating Account...":"Create Account"),9,S)],32)),t("p",U,[e[13]||(e[13]=i(" Already have an account? ",-1)),v(r,{to:"/login",class:"text-blue-600 hover:underline font-medium"},{default:c(()=>[...e[12]||(e[12]=[i("Sign in",-1)])]),_:1})])])])}}});export{T as default};
