import{d as v,D as f,r as i,g as m,c as r,a as t,q as d,i as p,m as h,G as x,t as _,o as s}from"./index-D0LxdbPe.js";import{publicCVApi as g}from"./user.api-DVaxPE5g.js";import{C as w,_ as y}from"./CVRenderer-DKPugfv1.js";const k={class:"public-cv-container min-h-screen bg-gray-100 flex flex-col"},b={class:"bg-white shadow-sm p-4 flex justify-between items-center z-10 sticky top-0"},C=["href"],V={class:"flex-1 overflow-hidden relative"},P={key:0,class:"flex items-center justify-center h-full text-gray-500"},B={key:1,class:"flex items-center justify-center h-full text-red-500 font-medium"},j=v({__name:"PublicCVPage",setup(D){const c=f().params.token,o=i(!0),a=i(null),e=i(null),u=async()=>{try{o.value=!0;const l=await g.getPublicCV(c);e.value=l.data}catch(l){console.error(l),a.value="Failed to load CV. The link may be invalid or expired."}finally{o.value=!1}};return m(()=>{c?u():(a.value="Invalid Link",o.value=!1)}),(l,n)=>(s(),r("div",k,[t("div",b,[n[1]||(n[1]=t("h1",{class:"text-xl font-bold text-gray-800"},"SmartCV",-1)),e.value?(s(),r("a",{key:0,href:`/api/public/cv/${p(c)}/download`,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow transition flex items-center gap-2",download:"cv.pdf"},[...n[0]||(n[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),h(" Download PDF ",-1)])],8,C)):d("",!0)]),t("div",V,[o.value?(s(),r("div",P," Loading CV... ")):a.value?(s(),r("div",B,_(a.value),1)):e.value?(s(),x(w,{key:2,html:e.value.html,css:e.value.css,data:e.value.content},null,8,["html","css","data"])):d("",!0)])]))}}),M=y(j,[["__scopeId","data-v-7937932c"]]);export{M as default};
